<div class="dashboard">
  <header class="header">
    <div class="container">
      <div class="logo" (click)="navigateToHome()">
        <div class="logo-icon">H</div>
        <span class="logo-text">HouseMate</span>
      </div>
      <nav class="nav">
        <a class="nav-link">My Jobs</a>
        <a class="nav-link">Earnings</a>
        <button mat-icon-button [matMenuTriggerFor]="menu" class="profile-button">
          <mat-icon>account_circle</mat-icon>
          <span class="user-name">{{ currentUser?.fullName }}</span>
          <mat-icon>arrow_drop_down</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item (click)="logout()">
            <mat-icon>logout</mat-icon>
            <span>Logout</span>
          </button>
        </mat-menu>
      </nav>
    </div>
  </header>

  <div class="main-content">
    <!-- Welcome Section with Status Badge -->
    <div class="welcome-section">
      <div class="welcome-header">
        <!-- Image placeholder: Expert profile/avatar image will be added from Figma -->
        <div class="expert-avatar">
          <mat-icon>person</mat-icon>
        </div>
        <div class="welcome-info">
          <div class="status-badge">
            <mat-icon>check_circle</mat-icon>
            <span>Online</span>
          </div>
          <h1 class="welcome-title">Welcome back, <span class="highlight">{{ currentUser?.fullName }}!</span></h1>
          <p class="welcome-subtitle">Expert at</p>
          <div class="service-badges">
            <!-- Image placeholder: Service icons will be added from Figma -->
            <span class="service-badge">üßπ Cleaning</span>
            <span class="service-badge">üç≥ Cooking</span>
          </div>
        </div>
      </div>

      <!-- Pending Requests Section -->
      <div class="pending-requests">
        <h3 class="section-heading">Pending Requests</h3>
        <div class="request-list">
          <div class="request-card" *ngFor="let job of mockJobs.slice(0, 2)">
            <div class="request-date">{{ job.date }}</div>
            <div class="request-details">
              <mat-icon>access_time</mat-icon>
              <span>{{ job.timeSlot }}</span>
            </div>
            <div class="request-details">
              <mat-icon>location_on</mat-icon>
              <span>{{ job.address }}</span>
            </div>
            <button mat-stroked-button color="primary" class="btn-take-action">Take Action</button>
          </div>
        </div>
      </div>
    </div>

    <!-- My Reports Section -->
    <div class="my-reports">
      <h2 class="section-title">My Reports</h2>
      <div class="reports-grid">
        <div class="report-card">
          <!-- Image placeholder: Today's Job icon from Figma -->
          <mat-icon class="report-icon" color="primary">today</mat-icon>
          <div class="report-label">Today's Job</div>
          <div class="report-value">{{ mockStats.totalJobs }}</div>
        </div>

        <div class="report-card">
          <!-- Image placeholder: This Week icon from Figma -->
          <mat-icon class="report-icon" color="accent">date_range</mat-icon>
          <div class="report-label">This Week</div>
          <div class="report-value">{{ mockStats.upcomingJobs }}</div>
        </div>

        <div class="report-card">
          <!-- Image placeholder: Total Earning icon from Figma -->
          <mat-icon class="report-icon" color="warn">account_balance_wallet</mat-icon>
          <div class="report-label">Total Earning</div>
          <div class="report-value">‚Çπ{{ mockStats.totalEarnings }}.00</div>
        </div>

        <div class="report-card">
          <!-- Image placeholder: My Rating icon from Figma -->
          <mat-icon class="report-icon">star</mat-icon>
          <div class="report-label">My Rating</div>
          <div class="report-value">{{ mockStats.averageRating }}</div>
        </div>
      </div>
    </div>

    <!-- My Calendar Section -->
    <div class="my-calendar">
      <h2 class="section-title">My Calendar</h2>
      <div class="calendar-widget">
        <div class="calendar-header">
          <button mat-icon-button>
            <mat-icon>chevron_left</mat-icon>
          </button>
          <span class="month-label">Monday</span>
          <span class="date-label">22</span>
          <span class="june-label">JUNE</span>
          <button mat-icon-button>
            <mat-icon>chevron_right</mat-icon>
          </button>
        </div>
        <div class="calendar-grid">
          <div class="day-item" *ngFor="let day of [7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]">
            <div class="day-number">{{ day }}</div>
          </div>
        </div>
        <div class="today-schedule">
          <h4>Today</h4>
          <div class="schedule-item">
            <!-- Image placeholder: Service icon from Figma -->
            <mat-icon>eco</mat-icon>
            <div class="schedule-details">
              <div class="schedule-title">Gardening</div>
              <div class="schedule-time">
                <mat-icon>access_time</mat-icon>
                2:30 PM, booked for 2hrs
              </div>
              <div class="schedule-location">
                <mat-icon>location_on</mat-icon>
                201, Manjari Khurd, Pune - 143505
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- My Appointments Section -->
    <div class="my-appointments">
      <div class="appointments-header">
        <h2 class="section-title">My Appointments</h2>
        <div class="appointments-filters">
          <button mat-icon-button>
            <mat-icon>search</mat-icon>
          </button>
          <button mat-icon-button>
            <mat-icon>filter_list</mat-icon>
          </button>
          <select class="filter-dropdown">
            <option>All</option>
            <option>Pending</option>
            <option>Accepted</option>
            <option>Completed</option>
          </select>
        </div>
      </div>

      <div class="appointments-grid">
        <div class="appointment-card" *ngFor="let job of mockJobs">
          <div class="appointment-header">
            <!-- Image placeholder: Service icon from Figma -->
            <mat-icon class="service-icon">{{job.serviceType === 'Gardening' ? 'eco' : 'restaurant'}}</mat-icon>
            <span class="earning">‚Çπ{{ job.earnings }}<br>Earning</span>
          </div>

          <div class="appointment-body">
            <div class="appointment-date">{{ job.date }}</div>
            <div class="appointment-details">
              <mat-icon>access_time</mat-icon>
              <span>{{ job.timeSlot }}</span>
            </div>
            <div class="appointment-details">
              <mat-icon>location_on</mat-icon>
              <span>{{ job.address }}</span>
            </div>
            <div class="appointment-status" [ngClass]="getStatusClass(job.status)">
              <mat-icon>{{ job.status === 'Accepted' ? 'check_circle' : job.status === 'Rejected' ? 'cancel' : job.status === 'Pending' ? 'schedule' : 'info' }}</mat-icon>
              <span>{{ job.status }}</span>
            </div>
          </div>

          <div class="appointment-footer">
            <button mat-stroked-button color="primary" (click)="viewJobDetails(job)">View Details</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
