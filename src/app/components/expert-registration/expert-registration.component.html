<div class="registration-page">
  <header class="header">
    <div class="logo" (click)="navigateToHome()">
      <div class="logo-icon">H</div>
      <span class="logo-text">HouseMate</span>
    </div>
  </header>

  <div class="registration-container">
    <div class="registration-content">
      <div class="registration-form-section">
        <h3 class="subtitle">Become an Expert</h3>
        <h1 class="title">EXPERT REGISTRATION</h1>
        <p class="description">
          Join our network of verified home-service experts
        </p>

        <!-- Step Indicator -->
        <div class="step-indicator">
          <div class="step" [class.active]="currentStep >= 1" [class.completed]="currentStep > 1">
            <span class="step-number">1</span>
            <span class="step-label">Personal Details</span>
          </div>
          <div class="step-line" [class.active]="currentStep > 1"></div>
          <div class="step" [class.active]="currentStep >= 2" [class.completed]="currentStep > 2">
            <span class="step-number">2</span>
            <span class="step-label">Professional Info</span>
          </div>
          <div class="step-line" [class.active]="currentStep > 2"></div>
          <div class="step" [class.active]="currentStep >= 3">
            <span class="step-number">3</span>
            <span class="step-label">ID Proof</span>
          </div>
        </div>

        <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
          <!-- Step 1: Personal Details -->
          <div class="step-content" *ngIf="currentStep === 1">
            <div class="form-group">
              <label class="form-label">Full Name</label>
              <input 
                type="text" 
                class="form-control" 
                formControlName="fullName"
                placeholder="e.g., John Doe"
              />
              <div class="error-message" *ngIf="registrationForm.get('fullName')?.invalid && registrationForm.get('fullName')?.touched">
                Full name is required
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Age</label>
              <input 
                type="number" 
                class="form-control" 
                formControlName="age"
                placeholder="e.g., 25"
              />
              <div class="error-message" *ngIf="registrationForm.get('age')?.invalid && registrationForm.get('age')?.touched">
                Please enter a valid age (18-100)
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Location / Address</label>
              <input 
                type="text" 
                class="form-control" 
                formControlName="address"
                placeholder="e.g., New York, NY"
              />
              <div class="error-message" *ngIf="registrationForm.get('address')?.invalid && registrationForm.get('address')?.touched">
                Address is required
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Mobile Number</label>
              <input 
                type="tel" 
                class="form-control" 
                formControlName="mobileNumber"
                placeholder="e.g., +1 (555) 123-4567"
              />
              <div class="error-message" *ngIf="registrationForm.get('mobileNumber')?.invalid && registrationForm.get('mobileNumber')?.touched">
                Please enter a valid mobile number
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Email</label>
              <input 
                type="email" 
                class="form-control" 
                formControlName="email"
                placeholder="e.g., john@example.com"
              />
              <div class="error-message" *ngIf="registrationForm.get('email')?.invalid && registrationForm.get('email')?.touched">
                Please enter a valid email
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Password</label>
              <input 
                type="password" 
                class="form-control" 
                formControlName="password"
                placeholder="Enter password"
              />
              <div class="error-message" *ngIf="registrationForm.get('password')?.invalid && registrationForm.get('password')?.touched">
                Password must be at least 6 characters
              </div>
            </div>
          </div>

          <!-- Step 2: Professional Details -->
          <div class="step-content" *ngIf="currentStep === 2">
            <div class="form-group">
              <label class="form-label">Service Category</label>
              <select class="form-control" formControlName="serviceCategory">
                <option value="">Select a service</option>
                <option value="Cleaning">Cleaning</option>
                <option value="Plumbing">Plumbing</option>
                <option value="Electrical">Electrical</option>
                <option value="Carpentry">Carpentry</option>
                <option value="Painting">Painting</option>
                <option value="Gardening">Gardening</option>
              </select>
              <div class="error-message" *ngIf="registrationForm.get('serviceCategory')?.invalid && registrationForm.get('serviceCategory')?.touched">
                Service category is required
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Experience</label>
              <input 
                type="text" 
                class="form-control" 
                formControlName="experience"
                placeholder="e.g., 5 years"
              />
              <div class="error-message" *ngIf="registrationForm.get('experience')?.invalid && registrationForm.get('experience')?.touched">
                Experience is required
              </div>
            </div>
          </div>

          <!-- Step 3: ID Proof -->
          <div class="step-content" *ngIf="currentStep === 3">
            <div class="form-group">
              <label class="form-label">Upload ID Proof</label>
              <p class="form-hint">JPG or PNG only, max 5MB</p>
              <input 
                type="file" 
                class="form-control" 
                accept=".jpg,.jpeg,.png"
                (change)="onFileSelected($event)"
              />
              <div class="file-info" *ngIf="selectedFile">
                Selected: {{ selectedFile.name }}
              </div>
              <div class="error-message" *ngIf="registrationForm.get('idProof')?.invalid && registrationForm.get('idProof')?.touched">
                ID proof is required
              </div>
            </div>
          </div>

          <div class="error-message" *ngIf="errorMessage">
            {{ errorMessage }}
          </div>

          <!-- Navigation Buttons -->
          <div class="button-group">
            <button type="button" class="btn btn-secondary" (click)="prevStep()" *ngIf="currentStep > 1">
              ← Back
            </button>
            <button type="button" class="btn btn-primary" (click)="nextStep()" *ngIf="currentStep < 3">
              Next →
            </button>
            <button type="submit" class="btn btn-primary" *ngIf="currentStep === 3" [disabled]="registrationForm.invalid">
              Register
            </button>
          </div>

          <div class="form-footer">
            <a (click)="navigateToHome()">Back to home</a>
          </div>
        </form>
      </div>

      <div class="registration-image-section">
        <!-- Image placeholder as per design screenshot -->
      </div>
    </div>
  </div>
</div>
