<div class="schedule-editor-modal">
  <div class="modal-header">
    <h2 mat-dialog-title>Edit Schedule</h2>
    <button mat-icon-button (click)="cancel()">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <mat-dialog-content>
    <p class="modal-subtitle">Select your preferred date and time</p>
    
    <!-- Date Selection -->
    <div class="section">
      <h3 class="section-title">
        <mat-icon>calendar_today</mat-icon>
        Select Date
      </h3>
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>Choose a date</mat-label>
        <input matInput [matDatepicker]="picker" [(ngModel)]="selectedDate" [min]="minDate">
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </div>

    <!-- Time Slot Selection -->
    <div class="section">
      <h3 class="section-title">
        <mat-icon>schedule</mat-icon>
        Select Time Slot
      </h3>
      <div class="time-slots-grid">
        <button 
          *ngFor="let slot of timeSlots"
          mat-stroked-button
          class="time-slot-btn"
          [class.selected]="selectedTimeSlot?.id === slot.id"
          [disabled]="!slot.available"
          (click)="selectTimeSlot(slot)">
          <mat-icon>access_time</mat-icon>
          <span>{{ getTimeSlotDisplay(slot) }}</span>
        </button>
      </div>
    </div>

    <!-- Duration Selection -->
    <div class="section">
      <h3 class="section-title">
        <mat-icon>timer</mat-icon>
        Select Duration
      </h3>
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>Duration (hours)</mat-label>
        <mat-select [(ngModel)]="selectedDuration">
          <mat-option *ngFor="let duration of durationOptions" [value]="duration">
            {{ duration }} hour{{ duration > 1 ? 's' : '' }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions>
    <button mat-button (click)="cancel()">Cancel</button>
    <button mat-raised-button color="primary" (click)="confirm()" [disabled]="!isFormValid()">
      Confirm Changes
    </button>
  </mat-dialog-actions>
</div>
